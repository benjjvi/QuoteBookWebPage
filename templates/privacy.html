{% extends "base.html" %}

{% block title %}Cookie Policy{% endblock %}

{% block extra_css %}
<link
  rel="stylesheet"
  href="/static/assets/css/privacy.css"
/>
{% endblock %}

{% block content %}
<section class="privacy-page">
  <div class="privacy-card">
    <span class="eyebrow">Policy</span>
    <h1>Cookie Policy</h1>
    <p class="lead">
      This site uses cookies and local storage to keep things running smoothly.
    </p>

    <h2>What we store</h2>
    <div class="storage-list" role="list">
      <details class="storage-item" open>
        <summary><code>session</code> cookie (Flask session)</summary>
        <p>
          Used for temporary authenticated state (for example, edit PIN unlock and anti-CSRF request tokens).
          Expires automatically based on session settings.
        </p>
      </details>

      <details class="storage-item">
        <summary><code>qb_cookie_consent</code></summary>
        <p>
          Stores whether you accepted or declined the cookie prompt, so we do not ask repeatedly.
        </p>
      </details>

      <details class="storage-item">
        <summary><code>qb_add_quote_draft_v1</code></summary>
        <p>
          Stores your in-progress quote form locally to avoid losing text if you reload or close the tab.
        </p>
      </details>

      <details class="storage-item">
        <summary><code>qb_push_prompted</code> and <code>qb_push_declined_at</code></summary>
        <p>
          Tracks whether push notifications were accepted/declined and when declined, so prompts are rate-limited.
        </p>
      </details>

      <details class="storage-item">
        <summary><code>qb_email_subscribed</code> and <code>qb_email_declined_at</code></summary>
        <p>
          Tracks whether weekly digest signup was accepted/declined and when declined, so prompts are rate-limited.
        </p>
      </details>

      <details class="storage-item">
        <summary>Advertising script state (optional)</summary>
        <p>
          If ads are enabled, third-party advertising providers may set cookies/storage based on their own policies.
          This project does not set those provider cookies directly.
        </p>
      </details>

      <details class="storage-item">
        <summary><code>qb_sync_lock</code></summary>
        <p>
          A short-lived local lock to prevent multiple tabs from running the offline quote sync at the same time.
        </p>
      </details>
    </div>

    <h2>Why we store it</h2>
    <ul>
      <li>To keep authenticated actions secure and scoped to your current browser session.</li>
      <li>To reduce repeated prompts for cookies, push notifications, and email signup.</li>
      <li>To protect in-progress quote submissions from accidental data loss.</li>
      <li>To support reliable offline behaviour and avoid duplicate background sync tasks.</li>
      <li>To improve UX and optional monetisation features where configured.</li>
    </ul>

    <h2>Disclosure</h2>
    <p>
      Paid sponsorships and affiliate links, where used, should be clearly marked.
      Any third-party ad network processing is governed by that network's own terms and policies.
    </p>

    <h2>How to clear</h2>
    <p>
      You can clear cookies and site data from your browser settings at any time.
    </p>

    <a href="/" class="btn btn-ghost">Back home</a>
  </div>
</section>
{% endblock %}
