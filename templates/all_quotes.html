{% extends "base.html" %}

{% block title %}All Quotes{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='assets/css/all_quotes.css') }}">
{% endblock %}

{% block content %}
<div class="container">
    <div class="top-bar">
        <h1>All Quotes</h1>
        <a href="{{ url_for('index') }}" class="btn">Back home</a>
    </div>

    <form method="get">
        <label for="speaker">Filter by speaker:</label>
        <select name="speaker" id="speaker" onchange="this.form.submit()">
            <option value="">All Speakers</option>
            {% for speaker, count in speakers %}
                <option value="{{ speaker }}"
                    {% if speaker == speaker_filter %}selected{% endif %}>
                    {{ speaker }} ({{ count }})
                </option>
            {% endfor %}
        </select>
        <noscript><button type="submit">Filter</button></noscript>
    </form>

    {% for quote, info in quotes %}
        <div class="quote-card">
            <div class="quote-text">{{ quote | e }}</div>
            <div class="quote-author">â€” {{ info | e }}</div>
        </div>
    {% else %}
        <p>No quotes found.</p>
    {% endfor %}
</div>
{% endblock %}
